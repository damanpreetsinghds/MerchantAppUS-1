{
  "version": 52,
  "tenantid": "MerchantAppUS",
  "mobappid": 1877,
  "appName": "Kryptos Merchant",
  "appDisplayName": "Kryptos Merchant",
  "homeScreenTemplate": "<style class=\"ng-scope\">\r\n    .promptumenu_window {\r\n        display: none !important;\r\n    }\r\n    .verticalSpace {\r\n        margin-top: 25px;\r\n    }\r\n    .backButtonArrow {\r\n        display: none;\r\n    }\r\n\r\n<\/style>\r\n<script>\r\n\r\n    try{\r\n        var e = document.getElementsByClassName(\"app\")[0];\r\n        var $injector = angular.element(e).injector();\r\n        var $location = $injector.get('$location');\r\n        $location.path(\"/app/MerchantApp/MerchantApp\");\r\n    }catch(e){alert(e)}\r\n\r\n\r\n<\/script>",
  "middlewareServerUrl": null,
  "feedbackEmail": null,
  "backgroundurl": "MerchantAppUS/background.png",
  "brandingurl": "MerchantAppUS/branding.png",
  "customStyle": "#branding {\r\n  position:absolute !important;\r\n  bottom:40px;\r\n  left:0px !important;\r\n  right:0px !important;\r\n  width:50% !important;\r\n  margin:auto !important;\r\n}\r\nbody {\r\n   position:absolute;\r\n   width:100%;\r\n   height:100%;\r\n   background-size:100% 100% !important;\r\n}\r\n.icon {\r\n   width:56px !important;\r\n   height:56px !important;\r\n}\r\n.campuseai-Info {\r\n  color:white;\r\n}\r\n.dockicon:after {\r\n   bottom:0px !important;\r\n}\r\n\r\n.dockicon {\r\n   margin-bottom:25px !important;\r\n}\r\n\r\n\r\n.blockUI i{\r\n   color:white !important;\r\n}\r\n\r\n@media (min-width: 768px) { \r\n   #branding {\r\n      width:50% !important;\r\n      margin:auto;    \r\n   }\r\n   .icon {\r\n      width:102px !important;\r\n      height:102px !important;\r\n    }\r\n}\r\n\r\n.promptumenu_nav a.active {\r\n   background:#fff;\r\n   border-radius:50%;\r\n   width:10px;\r\n   height:10px;\r\n}\r\n\r\n.promptumenu_nav a {\r\n  background:#00162f;\r\n   border-radius:50%;\r\n   width:10px;\r\n   height:10px;\r\n}\r\n.promptumenu_window {\r\n   overflow:visible !important; \r\n}\r\n\r\n.promptumenu_nav {\r\nmargin-bottom:-3px;\r\n}\r\n\r\n.app-body {\r\n   padding-bottom:19px !important;\r\n}\r\n\r\n.blockUI {\r\n  margin:auto !important;\r\n  left:0px  !important;\r\n  right:0px !important;\r\n  width:auto !important;\r\n}\r\n\r\n#homedata .campuseai-Info {\r\n  width:76px !important;\r\n  margin-left:-10px;\r\n}\r\n@media (min-width : 320px) and (max-width : 480px) { \r\n   .icon { width:56px !important;\r\n     height:56px !important;\r\n   }\r\n   #homedata .campuseai-Info {\r\n     width:76px !important;\r\n     margin-left:-10px;\r\n   }\r\n}\r\n\r\n@media (min-width : 320px) and (max-width : 568px) { \r\n   .icon { width:63px !important;\r\n\t   height:63px !important;\r\n   }\r\n   #homedata .campuseai-Info {\r\n     width:83px !important;\r\n     margin-left:-10px;\r\n   }\r\n}\r\n\r\n#mainSidebar .list-group-item {\r\n  border-bottom:1px solid #000 !important;\r\n}\r\n\r\n#homedata .campuseai-Info {\r\n  font-weight:bold;\r\n  text-shadow:2px 2px 2px #000;\r\n}.navbar-app, .sidebar, #mainSidebar { background : #0a0a0a !important; } .navbar-brand, .navbar-absolute-top .btn-navbar { color : #ffffff !important; } .navbar-absolute-bottom .navbar-inverse { background :  !important; } .navbar-absolute-bottom .navbar-inverse { color :  !important; } .app { background : #ebebeb !important; } .campuseai-Info { color :  !important; } #mainSidebar .list-group-item { background :  !important; } #mainSidebar .list-group-item { color :  !important; } #mainSidebar .appgroup { background :  !important; } #mainSidebar .appgroup { color :  !important; } .btn-primary { background :  !important; } .btn-primary { color :  !important; } .btn-primary { border-color :  !important; } ",
  "authFunction": "function authFunction(uname, password, $http, $rootScope, success, error) {\r\n  alert (\"Tenant from Mycampus : \" + MyCampusApp.config.tenant);\r\n  alert (\"Tenant from Jstorage : \" + $.jStorage.get('tenant'));\r\n  $.jStorage.deleteKey('tenant');\r\n    var authSuccess = success;\r\n    var authError = error;\r\n    //Peoplesoft authentication\r\n    /*\r\n    var url = $rootScope.middlewareServerUrl + \"/services/ps/psholds\";\r\n    var data = {};\r\n    if (window.device) {\r\n        data = \"userId=\" + uname + \"&password=\" + password;\r\n    } else {\r\n        url = \"/websimulator/json?url=\" + url;\r\n        data = {\r\n            method: \"POST\",\r\n            body: \"userId=\" + uname + \"&password=\" + password\r\n        };\r\n    }\r\n    $.blockUI({\r\n        message: '<div style=\"margin: 2px; vertical-align: middle; display: inline-block\"><i class=\"icon-cog icon-spin icon-4x\"><\/i><h3>Authenticating<\/h3><\/div>'\r\n    });\r\n    alert(\"URL : \" + url);\r\n    $http.post(url, data).success(function (data, status, headers, config) {\r\n        success(data);\r\n        $.unblockUI();\r\n    }).error(function (data, status, headers, config) {\r\n        error(data);\r\n        $.unblockUI();\r\n    });\r\n*/\r\n    //Banner Authentication with CAS\r\n\r\n    /*var url = \"https://my.curry.edu/cas/v1/tickets/\";\r\n    var data = {};\r\n    if (window.device) {\r\n        data = \"username=\" + uname + \"&password=\" + password;\r\n    } else {\r\n        url = \"/websimulator/text?url=\" + url;\r\n        data = {\r\n            method: \"POST\",\r\n            body: \"username=\" + uname + \"&password=\" + password\r\n        };\r\n    }\r\n\r\n    $rootScope.generateST = function (tgt, service, callback) {\r\n        var data = {};\r\n        if (window.device) {\r\n            data = \"service=\" + service;\r\n        } else {\r\n            url = \"/websimulator/text?url=\" + \"https://my.curry.edu/cas/v1/tickets/\";\r\n            data = {\r\n                method: \"POST\",\r\n                body: \"service=\" + service\r\n            };\r\n        }\r\n\r\n        $.ajax({\r\n            url: url + tgt,\r\n            type: \"POST\",\r\n            async: true,\r\n            data: data,\r\n            error: function (response) {\r\n                alert(\"Error : \" + response);\r\n\r\n            },\r\n            success: function (data) {\r\n                //alert(\"Success : \" + data);\r\n                callback(data);\r\n            }\r\n        });\r\n\r\n    };\r\n\r\n    $.blockUI({\r\n        message: '<div style=\"margin: 2px; vertical-align: middle; display: inline-block\"><i class=\"icon-cog icon-spin icon-4x\"><\/i><h3>Authenticating<\/h3><\/div>'\r\n    });\r\n    $.ajax({\r\n        url: url,\r\n        type: \"POST\",\r\n        async: true,\r\n        data: data,\r\n        error: function (response) {\r\n            $.unblockUI();\r\n        },\r\n        success: function (data) {\r\n            //alert(\"Success : \" + data);\r\n            $.unblockUI();\r\n\r\n        },\r\n        complete: function (response, textStatus) {\r\n            //alert(\"complete : \" + response + \"  text status : \" + textStatus);\r\n            $.unblockUI();\r\n            if (textStatus == \"success\" && response.status == 201) {\r\n                var str = response.getResponseHeader('Location');\r\n                var tgtTicket = str.substr(str.lastIndexOf('/') + 1);\r\n                //generateST(tgtTicket);\r\n                success({\r\n                    \"ticket\": tgtTicket\r\n                });\r\n                $rootScope.$apply(function () {\r\n\r\n                    $rootScope.setRoute(\"/home\");\r\n\r\n                });\r\n\r\n\r\n            } else {\r\n                success({\r\n                    \"error\": \"Oops! Cannot log you in. Please check your login details.\"\r\n                });\r\n            }\r\n        }\r\n\r\n    });*/\r\n\r\n\r\n    //Banner Authentication with LDAP - middlware auth\r\n\r\n    var url = $rootScope.middlewareServerUrl + \"/bannermobile2/services/authenticate/login\";\r\n    var data = {};\r\n    if (window.device) {\r\n        data = \"username=\" + uname + \"&password=\" + password;\r\n    } else {\r\n        url = \"/websimulator/json?url=\" + url;\r\n        data = {\r\n            method: \"POST\",\r\n            body: \"username=\" + uname + \"&password=\" + password\r\n        };\r\n    }\r\n    var authUrl = url;\r\n    var authData = data;\r\n    $rootScope.generateST = function(tgt, service, callback) {\r\n        //Bypassing the ST as there is no service ticket required here..\r\n        callback(tgt);\r\n    };\r\n\r\n    $rootScope.postAPI = function(endpoint, postdata, callback) {\r\n        $.blockUI();\r\n        $rootScope.generateST($rootScope.ticket, endpoint, function(st) {\r\n            var serviceurl = endpoint + \"?ticket=\" + st;\r\n            var url = \"\";\r\n            var proxyMethod = \"POST\";\r\n            var proxyData = postdata;\r\n            if (window.device) {\r\n                url = serviceurl;\r\n            } else {\r\n                url = \"/websimulator/json?url=\" + serviceurl;\r\n                proxyMethod = \"POST\";\r\n                proxyData = {\r\n                    method: \"POST\",\r\n                    body: postdata\r\n                }\r\n            }\r\n            $http({\r\n                method: proxyMethod,\r\n                url: url,\r\n                data: proxyData\r\n            }).\r\n            success(function(data, status, headers, config) {\r\n                $.unblockUI();\r\n                callback(data, status, headers, config);\r\n            }).\r\n            error(function(data, status, headers, config) {\r\n                $.unblockUI();\r\n                //alert(\"Error in service call : \" + data + \" Status : \" + status);\r\n                if (status == 403) { //Ticket expired.. need to relogin\r\n                    $http.post(authUrl, authData).success(function(data, status, headers, config) {\r\n                        authSuccess(data);\r\n                        $rootScope.getAPI(endpoint, callback);\r\n                    }).error(function(data, status, headers, config) {\r\n                        authError(data);\r\n\r\n                    });\r\n                }\r\n\r\n            });\r\n\r\n        });\r\n\r\n    };\r\n\r\n    $rootScope.getAPI = function(endpoint, callback) {\r\n        $.blockUI();\r\n        $rootScope.generateST($rootScope.ticket, endpoint, function(st) {\r\n            var serviceurl = endpoint + \"?ticket=\" + st;\r\n            var url = \"\";\r\n            var proxyMethod = \"GET\";\r\n            var proxyData = {};\r\n            if (window.device) {\r\n                url = serviceurl;\r\n            } else {\r\n                url = \"/websimulator/json?url=\" + encodeURIComponent(serviceurl);\r\n                proxyMethod = \"POST\";\r\n                proxyData = {\r\n                    method: \"GET\"\r\n                }\r\n            }\r\n            $http({\r\n                method: proxyMethod,\r\n                url: url,\r\n                data: proxyData\r\n            }).\r\n            success(function(data, status, headers, config) {\r\n                $.unblockUI();\r\n                callback(data, status, headers, config);\r\n            }).\r\n            error(function(data, status, headers, config) {\r\n                $.unblockUI();\r\n                //alert(\"Error in service call : \" + data + \" Status : \" + status);\r\n                if (status == 403) { //Ticket expired.. need to relogin\r\n                    $http.post(authUrl, authData).success(function(data, status, headers, config) {\r\n                        authSuccess(data);\r\n                        $rootScope.getAPI(endpoint, callback);\r\n                    }).error(function(data, status, headers, config) {\r\n                        authError(data);\r\n\r\n                    });\r\n                }\r\n\r\n            });\r\n\r\n        });\r\n\r\n    };\r\n\r\n\r\n\r\n\r\n    $.blockUI({\r\n        message: '<div style=\"margin: 2px; vertical-align: middle; display: inline-block\"><i class=\"icon-cog icon-spin icon-4x\"><\/i><h3>Authenticating<\/h3><\/div>'\r\n    });\r\n\r\n    $http.post(url, data).success(function(data, status, headers, config) {\r\n        success(data);\r\n        $.unblockUI();\r\n    }).error(function(data, status, headers, config) {\r\n        error(data);\r\n        $.unblockUI();\r\n    });\r\n\r\n}",
  "forgotPasswordUrl": null,
  "reportissueEmail": null,
  "iconWidth": 70,
  "apps": 
  [
    {
      "id": 25448,
      "name": "MerchantApp",
      "displayname": "Home",
      "logo": "MerchantAppUS/MerchantApp.png",
      "logourl": "MerchantAppUS/MerchantApp.png",
      "description": "MerchantApp",
      "appFeatureType": "Public",
      "roles": null,
      "showInDock": false,
      "showInHome": true,
      "networkrequired": true,
      "analytics": false,
      "pages": 
      [
        {
          "pageid": "MerchantApp",
          "pageTemplate": "<div><\/div>",
          "pageprocessor": "function pageprocessorMerchantApp(pagedef, $scope, $routeParams, $compile, $http, $rootScope, $sce, $window, $location) {\r\n    var data1 = $compile($(pagedef.datatemplate))($scope);\r\n    $(\"#appContent\").append(data1);\r\n    $scope.selectedTab = true;\r\n    $scope.nameList = [];\r\n    $scope.orderHistory = [];\r\n    $scope.showNear = true;\r\n    $scope.showOrderHistory = false;\r\n    $scope.hideMyOrderDialog = true;\r\n    $scope.hideOrderHistoryDialog = true;\r\n    var serverUrl = \"http://172.20.4.96:8080/kryptosds/v1/bigdeal/us/getMerchantOrders\";\r\n\r\n/*\r\n     var serverUrl = \"http://192.168.0.3:8080/kryptosds/v1/bigdeal/getMerchantOrdersTest\";\r\n*/\r\n\r\n    var testUrl = \"https://kryptosda.kryptosmobile.com/kryptosds/v1/bigdeal/us/getMerchantOrdersTest\";\r\n    var prodUrl = \"https://kryptosda.kryptosmobile.com/kryptosds/v1/bigdeal/us/getMerchantOrders\";\r\n    var pickUpImage = \"https://kryptosda.kryptosmobile.com/kryptosds/imagegallery/6f2f0436-12fc-4f7d-909c-a7dec57e76a0.jpg\";\r\n    var deliveryImage = \"https://kryptosda.kryptosmobile.com/kryptosds/imagegallery/29462faf-fbfe-47cf-ad41-441ab2a724bd.jpg\";\r\n    var merchantData = $.jStorage.get('merchantInfo');\r\n    if (!merchantData) {\r\n        $location.path(\"app/MerchantApp/MerchantAppPage3\");\r\n    } else {\r\n        $.blockUI({\r\n            message: '<div id=\"floatingBarsG\"><div class=\"blockG\" id=\"rotateG_01\"><\/div><div class=\"blockG\" id=\"rotateG_02\"><\/div><div class=\"blockG\" id=\"rotateG_03\"><\/div><div class=\"blockG\" id=\"rotateG_04\"><\/div><div class=\"blockG\" id=\"rotateG_05\"><\/div><div class=\"blockG\" id=\"rotateG_06\"><\/div><div class=\"blockG\" id=\"rotateG_07\"><\/div><div class=\"blockG\" id=\"rotateG_08\"><\/div><\/div><div><\/div>'\r\n        });\r\n        var today = new Date();\r\n        var dd = today.getDate();\r\n        var mm = today.getMonth() + 1; //January is 0, so always add + 1\r\n        var yyyy = today.getFullYear();\r\n        if (dd < 10) {\r\n            dd = '0' + dd\r\n        }\r\n        if (mm < 10) {\r\n            mm = '0' + mm\r\n        }\r\n        today = yyyy + '-' + mm + '-' + dd;\r\n\r\n        var url = serverUrl;\r\n        var proxyMethod = \"POST\";\r\n        var proxyData = {\r\n            \"tenant\": \"BigDeal\",\r\n            \"restId\": merchantData.restId,\r\n            \"date\": today\r\n        };\r\n        callApi(proxyData, function (data) {\r\n\r\n            try {\r\n                if (data.success == false) {\r\n                    console.log(\"no result\");\r\n                    $scope.hideMyOrderDialog = false;\r\n                } else {\r\n                    if (data.success == true) {\r\n                        $scope.nameList = data.result.reverse();\r\n                    }\r\n                }\r\n                var isSubscribe = $.jStorage.get('subscribe');\r\n                if (!isSubscribe)\r\n                    subscribeMerchant();\r\n            } catch (e) {\r\n                alert(e);\r\n            }\r\n\r\n\r\n        }, function (err) {\r\n\r\n        })\r\n\r\n    }\r\n    $scope.myOrderClick = function () {\r\n        if ($scope.nameList.length == 0)\r\n            $scope.hideMyOrderDialog = false;\r\n        $scope.foodDelivery = false;\r\n        $scope.selectedTab = true;\r\n        $scope.hideOrderHistoryDialog = true;\r\n        $(\"#dineinTab\").addClass('foodTabSelected').removeClass('foodTabUnSelected');\r\n        $(\"#foodDeliveryTab\").addClass('foodTabUnSelected').removeClass('foodTabSelected');\r\n    };\r\n\r\n    $scope.orderHistoryClick = function () {\r\n\r\n        if ($scope.orderHistory.length == 0) {\r\n            $.blockUI({\r\n                message: '<div id=\"floatingBarsG\"><div class=\"blockG\" id=\"rotateG_01\"><\/div><div class=\"blockG\" id=\"rotateG_02\"><\/div><div class=\"blockG\" id=\"rotateG_03\"><\/div><div class=\"blockG\" id=\"rotateG_04\"><\/div><div class=\"blockG\" id=\"rotateG_05\"><\/div><div class=\"blockG\" id=\"rotateG_06\"><\/div><div class=\"blockG\" id=\"rotateG_07\"><\/div><div class=\"blockG\" id=\"rotateG_08\"><\/div><\/div><div><\/div>'\r\n            });\r\n\r\n            var proxyData = {\r\n                \"tenant\": \"BigDeal\",\r\n                \"restId\": merchantData.restId\r\n            };\r\n            callApi(proxyData, function (data) {\r\n\r\n                if (data.success == false) {\r\n                    console.log(\"no result\");\r\n                    $scope.hideOrderHistoryDialog = false;\r\n                } else {\r\n                    $scope.orderHistory = data.result.reverse();\r\n                }\r\n\r\n            }, function (err) {\r\n\r\n            })\r\n\r\n        }\r\n        $scope.hideMyOrderDialog = true;\r\n        $scope.foodDelivery = true;\r\n        $scope.selectedTab = false;\r\n        $(\"#foodDeliveryTab\").addClass('foodTabSelected').removeClass('foodTabUnSelected');\r\n        $(\"#dineinTab\").addClass('foodTabUnSelected').removeClass('foodTabSelected');\r\n        $scope.$apply();\r\n    };\r\n\r\n    $scope.openDeal = function (order) {\r\n        $rootScope.orderData = order;\r\n        $location.path(\"app/MerchantApp/MerchantAppPage2\");\r\n    };\r\n\r\n    function callApi(proxyData, successCallback, errorCallback) {\r\n        try {\r\n            $http({\r\n                method: proxyMethod,\r\n                url: url,\r\n                data: proxyData\r\n            }).\r\n            success(function (data, status, headers, config) {\r\n                $.unblockUI();\r\n                console.log(JSON.stringify(data));\r\n                successCallback(data);\r\n            }).\r\n            error(function (data, status, headers, config) {\r\n                $.unblockUI();\r\n\r\n                errorCallback(data);\r\n            });\r\n\r\n        }\r\n        catch (e) {\r\n        }\r\n\r\n    }\r\n\r\n    function subscribeMerchant() {\r\n\r\n        try {\r\n            parsePlugin.initialize('SkZLD6mhVOlb4ffwhBHp686xskdjMReuxy5VbQJf', 'OCeoD1WCHUWWfwLR7Qybou6k67hCSasiBqXcVYqg', function() {\r\n\r\n                parsePlugin.subscribe(merchantData.restId, function() {\r\n                    $.unblockUI();\r\n                    $.jStorage.set('subscribe', true);\r\n                }, function(e) {\r\n                    $.unblockUI();\r\n                    $.jStorage.set('subscribe', undefined);\r\n                });\r\n            }, function(e) {\r\n            });\r\n        } catch (e) {\r\n        }\r\n\r\n    }\r\n}",
          "datatemplate": "<style>\r\n    @import url(http://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,700italic,300,400,700);\r\n    .openSans {\r\n        font-family: 'Open Sans', sans-serif;\r\n        background: #EBEBEB;\r\n        border: 0;\r\n        position: relative;\r\n    }\r\n\r\n    .imgclass {\r\n        height: 150px;\r\n        width: 100%;\r\n    }\r\n\r\n    .app-body {\r\n        background: #EBEBEB;\r\n        padding-bottom: 0px !important;\r\n    }\r\n\r\n    .foodTabSelected {\r\n        position: relative;\r\n        text-align: center;\r\n        color: white !important;\r\n        font-size: 15px;\r\n        background-color: #0a0a0a;\r\n        background: #0a0a0a;\r\n    }\r\n\r\n    .foodTabUnSelected {\r\n        position: relative;\r\n        text-align: center;\r\n        color: rgba(250, 255, 255, 0.6) !important;\r\n        font-size: 15px;\r\n        background-color: #0a0a0a;\r\n    }\r\n\r\n    .has-navbar-top .app-body {\r\n        padding-top: 47px;\r\n    }\r\n\r\n    .navbar-absolute-bottom {\r\n        top: auto;\r\n        bottom: 0;\r\n        border-bottom: 0 none;\r\n        border-top-width: 1px;\r\n        min-height: 0 !important;\r\n        height: 0 !important;\r\n    }\r\n\r\n    .navbar-absolute-top {\r\n        top: 0;\r\n        border-bottom-width: 0px !important;\r\n    }\r\n    .backButtonArrow {\r\n        display: none;\r\n    }\r\n\r\n    .app-body {\r\n\r\n    }\r\n<\/style>\r\n\r\n<div class=\"form-group\" style=\"margin-bottom:0px;\">\r\n    <div id=\"dineinTab\" class=\"col-xs-6 col-md-6 foodTabSelected\" ng-click=\"myOrderClick()\" style=\"padding: 15px 0px 15px 0px;\">\r\n        My Orders\r\n        <div ng-show=\"selectedTab\" style=\"position: absolute;bottom: 0;height: 3px;background: #FFFFFF;width: 100%;\"><\/div>\r\n    <\/div>\r\n    <div id=\"foodDeliveryTab\" class=\"col-xs-6 col-md-6 foodTabUnSelected\" ng-click=\"orderHistoryClick()\" style=\"padding: 15px 0px 15px 0px;\">\r\n        Order History\r\n        <div ng-hide=\"selectedTab\" style=\"position: absolute;bottom: 0;height: 3px;background: #FFFFFF;width: 100%;\"><\/div>\r\n\r\n    <\/div>\r\n    <div style=\"clear:both;\"><\/div>\r\n<\/div>\r\n\r\n<div class='openSans' ng-show='selectedTab' style=\" padding: 10px 10px 20% 10px;\">\r\n\r\n    <div class=\"list-group\">\r\n        <div class=\"list-group-item\" ng-repeat=\"name in nameList\" ng-click=\"openDeal(name)\" style=\"margin-bottom: 10px;border-radius: 2px;\">\r\n\r\n            <div class=\"col-xs-2 col-md-2\" style=\"padding: 0; font-size: 16px; \" ng-if=\"name.orderType=='Delivery'\">\r\n                <img ng-src=\"https://kryptosda.kryptosmobile.com/kryptosds/imagegallery/cbf8ce3b-c632-478c-90d2-7924dd80db3b.jpg\" style=\"width: 75%;margin-top: 5px;\">\r\n            <\/div>\r\n            <div class=\"col-xs-2 col-md-2\" style=\"padding: 0; font-size: 16px; \" ng-if=\"name.orderType=='Pick Up'\">\r\n                <img ng-src=\"https://kryptosda.kryptosmobile.com/kryptosds/imagegallery/99cfc176-b4f4-42f2-a65d-033f8a02867d.jpg\" style=\"width: 75%;margin-top: 5px;\">\r\n            <\/div>\r\n\r\n\r\n            <div class=\"col-xs-6 col-md-6\" style=\"padding: 0 0 0 10px; font-size: 16px; \">\r\n                <div style=\"width: 100%; margin-bottom: 10px;\">\r\n                    {{name.name}}\r\n                <\/div>\r\n\r\n                <div style=\"width: 100%;\">\r\n                    {{name.orderID}}\r\n                <\/div>\r\n            <\/div>\r\n            <div class=\"col-xs-4 col-md-4\" style=\"padding: 0;font-size: 16px; ;text-align: right;font-weight: 600;\">\r\n                <div style=\"width: 100%; margin-bottom: 10px;\">\r\n                    ${{name.payableamount}}\r\n                <\/div>\r\n\r\n                <div style=\"width: 100%;\">\r\n                    <span style=\"padding: 5px;background: #E28413; color: white;font-size: 12px;border-radius: 3px;\" ng-if=\"name.status=='pending'\">Pending<\/span>\r\n                    <span style=\"padding: 5px;background: #1bb91c; color: white;font-size: 12px;border-radius: 3px;\" ng-if=\"name.status=='confirmed'\">Confirmed<\/span>\r\n                    <span style=\"padding: 5px;background: #c00001; color: white;font-size: 12px;border-radius: 3px;\" ng-if=\"name.status=='declined'\">Declined<\/span>\r\n                <\/div>\r\n\r\n            <\/div>\r\n            <div style=\"clear: both;\" />\r\n        <\/div>\r\n    <\/div>\r\n\r\n<\/div>\r\n<div class='openSans' ng-hide='selectedTab' style=\" padding: 10px 10px 20% 10px;\">\r\n\r\n    <div class=\"list-group\">\r\n        <div class=\"list-group-item\" ng-repeat=\"name in orderHistory\" ng-click=\"openDeal(name)\" style=\"margin-bottom: 10px;border-radius: 2px;\">\r\n\r\n            <div class=\"col-xs-2 col-md-2\" style=\"padding: 0; font-size: 16px; \" ng-if=\"name.orderType=='Delivery'\">\r\n                <img ng-src=\"https://kryptosda.kryptosmobile.com/kryptosds/imagegallery/cbf8ce3b-c632-478c-90d2-7924dd80db3b.jpg\" style=\"width: 75%;margin-top: 5px;\">\r\n            <\/div>\r\n            <div class=\"col-xs-2 col-md-2\" style=\"padding: 0; font-size: 16px; \" ng-if=\"name.orderType=='Pick Up'\">\r\n                <img ng-src=\"https://kryptosda.kryptosmobile.com/kryptosds/imagegallery/99cfc176-b4f4-42f2-a65d-033f8a02867d.jpg\" style=\"width: 75%;margin-top: 5px;\">\r\n            <\/div>\r\n\r\n\r\n            <div class=\"col-xs-6 col-md-6\" style=\"padding: 0 0 0 10px; font-size: 16px; \">\r\n                <div style=\"width: 100%; margin-bottom: 10px;\">\r\n                    {{name.name}}\r\n                <\/div>\r\n\r\n                <div style=\"width: 100%;\">\r\n                    {{name.orderID}}\r\n                <\/div>\r\n            <\/div>\r\n            <div class=\"col-xs-4 col-md-4\" style=\"padding: 0;font-size: 16px; ;text-align: right;font-weight: 600;\">\r\n                <div style=\"width: 100%; margin-bottom: 10px;\">\r\n                    ${{name.payableamount}}\r\n                <\/div>\r\n\r\n                <div style=\"width: 100%;\">\r\n                    <span style=\"padding: 5px;background: #E28413; color: white;font-size: 12px;border-radius: 3px;\" ng-if=\"name.status=='pending'\">Pending<\/span>\r\n                    <span style=\"padding: 5px;background: #1bb91c; color: white;font-size: 12px;border-radius: 3px;\" ng-if=\"name.status=='confirmed'\">Confirmed<\/span>\r\n                    <span style=\"padding: 5px;background: #c00001; color: white;font-size: 12px;border-radius: 3px;\" ng-if=\"name.status=='declined'\">Declined<\/span>\r\n                <\/div>\r\n\r\n            <\/div>\r\n            <div style=\"clear: both;\" />\r\n        <\/div>\r\n    <\/div>\r\n\r\n<\/div>\r\n\r\n<div style=\"padding:0px 10px 20% 10px;background: #EBEBEB;border: 0;position: absolute !important;top: 50px;width: 100%;height: 100%;\" class='openSans' ng-hide='hideMyOrderDialog'>\r\n    <div style=\"text-align:center;\">\r\n        <div style=\"width:auto;text-align: center;color: #999;font-weight: normal;display: inline-block;margin-top: 25%;/* margin: auto; *//* position: relative; *//* right: 0; */\" class=\"\">\r\n            <div style=\"font-size: 18px;\">You don't have any orders for today.\r\n            <\/div>\r\n            <br>\r\n\r\n            <div style=\"font-size: 16px;\">We will notify you when any order is placed.\r\n                <br/> You can check your <span style=\"color: #c00001;font-weight: 400;\" ng-click=\"orderHistoryClick()\">Order History<\/span> for pervious orders.\r\n            <\/div>\r\n            <br>\r\n        <\/div>\r\n    <\/div>\r\n<\/div>\r\n<div style=\"padding:0px 10px 20% 10px;background: #EBEBEB;border: 0;position: absolute !important;top: 50px;width: 100%;height: 100%;\" class='openSans' ng-hide='hideOrderHistoryDialog'>\r\n    <div style=\"text-align:center;\">\r\n        <div style=\"width:auto;text-align: center;color: #999;font-weight: normal;display: inline-block;margin-top: 25%;/* margin: auto; *//* position: relative; *//* right: 0; */\" class=\"\">\r\n            <div style=\"font-size: 18px;\">You don't have any orders for today.\r\n            <\/div>\r\n            <br>\r\n\r\n            <div style=\"font-size: 16px;\">We will notify you when any order is placed.\r\n                <br/>\r\n\r\n            <\/div>\r\n            <br>\r\n        <\/div>\r\n    <\/div>\r\n<\/div>"
        },
        {
          "pageid": "MerchantAppPage2",
          "pageTemplate": "<div><\/div>",
          "endpoint": "",
          "pageprocessor": "function pageprocessorMerchantAppPage2(pagedef, $scope, $routeParams, $compile, $http, $rootScope, $sce, $window, $location) {\r\n    var data1 = $compile($(pagedef.datatemplate))($scope);\r\n    $(\"#appContent\").append(data1);\r\n    $.blockUI({\r\n        message: '<div id=\"floatingBarsG\"><div class=\"blockG\" id=\"rotateG_01\"><\/div><div class=\"blockG\" id=\"rotateG_02\"><\/div><div class=\"blockG\" id=\"rotateG_03\"><\/div><div class=\"blockG\" id=\"rotateG_04\"><\/div><div class=\"blockG\" id=\"rotateG_05\"><\/div><div class=\"blockG\" id=\"rotateG_06\"><\/div><div class=\"blockG\" id=\"rotateG_07\"><\/div><div class=\"blockG\" id=\"rotateG_08\"><\/div><\/div><div><\/div>'\r\n    });\r\n    $scope.addDeliverycharge = false;\r\n    $scope.custDetail = true;\r\n    $scope.orderStatus = \"\";\r\n    $scope.subtotal = \"\";\r\n    $scope.discount = \"\";\r\n    $scope.discountamount = \"\";\r\n    $scope.salesCharge = \"\";\r\n    $scope.merchantDue = \"\";\r\n    $scope.showConfirmDialog = false;\r\n    $scope.showDeclineDialog = false;\r\n    $scope.deliveryChargeAmount = \"\";\r\n    $scope.payableamount = \"\";\r\n    $scope.name = \"\";\r\n    $scope.time = \"\";\r\n    $scope.hours = 0;\r\n    $scope.min = 30;\r\n    $scope.reason = \"\";\r\n    var merchantData = $.jStorage.get('merchantInfo');\r\n\r\n\r\n    $scope.orderData = $rootScope.orderData;\r\n    var serverUrl = \"http://172.20.4.96:8080/kryptosds/v1/bigdeal/us/getOrdersDetail\";\r\n    /*\r\n     var serverUrl = \"http://192.168.0.3:8080/kryptosds/v1/bigdeal/getOrdersDetailTest\";\r\n     */\r\n\r\n    var testURL = \"https://kryptosda.kryptosmobile.com/kryptosds/v1/bigdeal/us/getOrdersDetailTest\";\r\n    var prodURL = \"https://kryptosda.kryptosmobile.com/kryptosds/v1/bigdeal/us/getOrdersDetail\";\r\n    var url = serverUrl;\r\n    var proxyData = {\r\n        \"tenant\": $rootScope.metadata.tenantid,\r\n        \"orderID\": $scope.orderData.orderID,\r\n        \"emailID\": $scope.orderData.emailID\r\n    };\r\n    try {\r\n        $http({\r\n            method: \"POST\",\r\n            url: url,\r\n            data: proxyData\r\n        }).\r\n        success(function (data, status, headers, config) {\r\n            $.unblockUI();\r\n            console.log(JSON.stringify(data));\r\n\r\n            if (data.success == true) {\r\n\r\n                $scope.orderDetail = data.order;\r\n                $scope.subtotal = $scope.orderDetail.order.subTotal;\r\n                $scope.discount = $scope.orderDetail.order.discount;\r\n                $scope.discountamount = $scope.orderDetail.order.discountamount;\r\n                $scope.salesCharge = $scope.orderDetail.order.salesCharge\r\n                $scope.merchantDue = $scope.orderDetail.order.merchantDue;\r\n                if ($scope.orderDetail.order.orderType == 'Delivery') {\r\n                    $scope.addDeliverycharge = true;\r\n                    $scope.deliveryChargeAmount = $scope.orderDetail.order.deliveryChargeAmount;\r\n                } else {\r\n                    $scope.addDeliverycharge = false;\r\n                }\r\n\r\n                $scope.payableamount = $scope.orderDetail.order.payableamount;\r\n                $scope.name = $scope.orderDetail.name;\r\n\r\n                var date = new Date($scope.orderDetail.Timestamp);\r\n                $scope.time = date.getHours() + \":\" + date.getMinutes();\r\n                if ($scope.orderDetail.status == 'pending') {\r\n                    $scope.orderStatus = \"Pending\";\r\n                } else if ($scope.orderDetail.status == 'confirmed') {\r\n                    $scope.orderStatus = \"Confirmed\";\r\n                    $(\"#status\").addClass('confirmed');\r\n                } else if ($scope.orderDetail.status == 'declined') {\r\n                    $scope.orderStatus = \"Declined\";\r\n                    $(\"#status\").addClass('pending');\r\n                }\r\n\r\n            }\r\n\r\n        }).\r\n        error(function (data, status, headers, config) {\r\n            $.unblockUI();\r\n\r\n        });\r\n\r\n    }\r\n    catch (e) {\r\n    }\r\n    $scope.showDetails = function () {\r\n        $scope.custDetail = !$scope.custDetail;\r\n        $scope.$apply();\r\n    };\r\n\r\n\r\n    $scope.confirm = function () {\r\n        $scope.showConfirmDialog = !$scope.showConfirmDialog;\r\n        $(\"#orderDesc\").toggleClass('blurBackground');\r\n    };\r\n\r\n\r\n    $scope.confirmOrder = function () {\r\n        $scope.showConfirmDialog = false;\r\n        $(\"#orderDesc\").removeClass('blurBackground');\r\n        $.blockUI({\r\n            message: '<div id=\"floatingBarsG\"><div class=\"blockG\" id=\"rotateG_01\"><\/div><div class=\"blockG\" id=\"rotateG_02\"><\/div><div class=\"blockG\" id=\"rotateG_03\"><\/div><div class=\"blockG\" id=\"rotateG_04\"><\/div><div class=\"blockG\" id=\"rotateG_05\"><\/div><div class=\"blockG\" id=\"rotateG_06\"><\/div><div class=\"blockG\" id=\"rotateG_07\"><\/div><div class=\"blockG\" id=\"rotateG_08\"><\/div><\/div><div><\/div>'\r\n        });\r\n\r\n        customerPay($scope.orderDetail.customer)\r\n\r\n\r\n    }\r\n    function customerPay(customer) {\r\n        var prodURL = \"https://kryptosda.kryptosmobile.com/kryptosds/payment/charge/create\";\r\n        var serverURL = \"http://172.20.4.96:8080/kryptosds/payment/charge/create\";\r\n\r\n        var postData = {\r\n            amt: parseInt($scope.payableamount * 100),\r\n            source: customer.sources.data[0].id,\r\n            email: $scope.orderDetail.emailID,\r\n            key: \"123\",\r\n            description: \"Charge\",\r\n            cusID: customer.id\r\n        };\r\n\r\n\r\n        $.ajax({\r\n            url: serverURL,\r\n            type: \"POST\",\r\n            data: postData,\r\n            success: function (data) {\r\n                // alert(JSON.stringify(data));\r\n                console.log(JSON.stringify(data));\r\n                if (data.status.indexOf(\"succeeded\") != -1) {\r\n                    try {\r\n                        confirmUserOrder();\r\n                    } catch (e) {\r\n                        alert(e);\r\n                    }\r\n\r\n                } else {\r\n                    try {\r\n                        // sendEmail();\r\n                        if (window.device) {\r\n                            navigator.notification.alert(\"Some Error Occured\", null, 'Error', 'Ok');\r\n                        } else {\r\n                            alert(\"Some Error Occured\");\r\n                        }\r\n                        $rootScope.back();\r\n                    } catch (e) {\r\n                        alert(e);\r\n                    }\r\n\r\n                }\r\n\r\n                //sendEmail();\r\n\r\n            },\r\n            error: function (err) {\r\n                alert(err);\r\n                $.unblockUI();\r\n\r\n            }\r\n        });\r\n    }\r\n\r\n    function confirmUserOrder() {\r\n\r\n        var serverUrl = \"http://172.20.4.96:8080/kryptosds/v1/bigdeal/us/merchantOrderConfirm\";\r\n        /*\r\n         var serverUrl = \"http://192.168.0.3:8080/kryptosds/v1/bigdeal/merchantOrderConfirmTest\";\r\n         */\r\n\r\n        var testURL = \"https://kryptosda.kryptosmobile.com/kryptosds/v1/bigdeal/us/merchantOrderConfirmTest\";\r\n        var prodURL = \"https://kryptosda.kryptosmobile.com/kryptosds/v1/bigdeal/us/merchantOrderConfirm\";\r\n\r\n        var proxyData = {\r\n            \"tenant\": $rootScope.metadata.tenantid,\r\n            \"emailID\": $scope.orderDetail.emailID,\r\n            \"orderID\": $scope.orderDetail.orderID,\r\n            \"status\": \"confirmed\"\r\n        }\r\n        try {\r\n            $http({\r\n                method: \"POST\",\r\n                url: serverUrl,\r\n                data: proxyData\r\n            }).\r\n            success(function (data, status, headers, config) {\r\n\r\n                var message = \"\";\r\n                if (data.success == true) {\r\n\r\n                    $scope.orderStatus = \"Confirmed\";\r\n                    $(\"#status\").addClass('confirmed');\r\n                    message = data.message;\r\n                    /*\r\n                     sendSms(customerNumber, msg, function (flag) {\r\n                     $.unblockUI();\r\n                     if (window.device) {\r\n                     navigator.notification.alert(message, null, '', 'Ok');\r\n                     } else {\r\n                     alert(message);\r\n                     }\r\n\r\n\r\n                     });\r\n                     */\r\n                    var custName = $scope.orderDetail.name;\r\n                    var info = \"Your order \" + $scope.orderDetail.orderID + \" is confirmed and will be ready in \" + $scope.hours + \":\" + $scope.min + \" hours.\";\r\n                    sendEmailToCustomer(custName, info, \"Confirm\", function (flag) {\r\n                        $.unblockUI();\r\n                        if (window.device) {\r\n                            navigator.notification.alert(message, null, '', 'Ok');\r\n                        } else {\r\n                            alert(message);\r\n                        }\r\n                    });\r\n\r\n                } else {\r\n                    $.unblockUI();\r\n                    message = \"Something went wrong. Please try again.\"\r\n                    if (window.device) {\r\n                        navigator.notification.alert(message, null, '', 'Ok');\r\n                    } else {\r\n                        alert(message);\r\n                    }\r\n                }\r\n\r\n\r\n            }).\r\n            error(function (data, status, headers, config) {\r\n                $.unblockUI();\r\n\r\n            });\r\n\r\n        }\r\n        catch (e) {\r\n        }\r\n\r\n    }\r\n\r\n    function sendSms(to, message, callback) {\r\n        var smsURL = \"http://203.129.203.243/blank/sms/user/urlsms.php?username=dealmonk&pass=112233&senderid=DLMONK&dest_mobileno=\" + to + \"&message=\" + message + \"&response=Y\";\r\n        var xhr = $.ajax({\r\n            url: smsURL,\r\n            type: \"GET\",\r\n            success: function (data) {\r\n\r\n                callback(true);\r\n\r\n            },\r\n            error: function (err) {\r\n                emailSuccess = false;\r\n                callback(false);\r\n\r\n\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n    $scope.decline = function () {\r\n        $scope.showDeclineDialog = !$scope.showDeclineDialog;\r\n        $(\"#orderDesc\").toggleClass('blurBackground');\r\n    }\r\n    $scope.declineOrder = function () {\r\n        if ($scope.reason != \"\") {\r\n            $scope.showDeclineDialog = false;\r\n            $(\"#orderDesc\").removeClass('blurBackground');\r\n            $.blockUI({\r\n                message: '<div id=\"floatingBarsG\"><div class=\"blockG\" id=\"rotateG_01\"><\/div><div class=\"blockG\" id=\"rotateG_02\"><\/div><div class=\"blockG\" id=\"rotateG_03\"><\/div><div class=\"blockG\" id=\"rotateG_04\"><\/div><div class=\"blockG\" id=\"rotateG_05\"><\/div><div class=\"blockG\" id=\"rotateG_06\"><\/div><div class=\"blockG\" id=\"rotateG_07\"><\/div><div class=\"blockG\" id=\"rotateG_08\"><\/div><\/div><div><\/div>'\r\n            });\r\n            var serverUrl = \"http://172.20.4.96:8080/kryptosds/v1/bigdeal/us/merchantOrderConfirm\";\r\n            var testURL = \"https://kryptosda.kryptosmobile.com/kryptosds/v1/bigdeal/us/merchantOrderConfirmTest\";\r\n            var prodURL = \"https://kryptosda.kryptosmobile.com/kryptosds/v1/bigdeal/us/merchantOrderConfirm\";\r\n\r\n            var proxyData = {\r\n                \"tenant\": $rootScope.metadata.tenantid,\r\n                \"emailID\": $scope.orderDetail.emailID,\r\n                \"orderID\": $scope.orderDetail.orderID,\r\n                \"status\": \"declined\"\r\n            };\r\n            try {\r\n                $http({\r\n                    method: \"POST\",\r\n                    url: serverUrl,\r\n                    data: proxyData\r\n                }).\r\n                success(function (data, status, headers, config) {\r\n                    var message = \"\";\r\n                    if (data.success == true) {\r\n                        $scope.orderStatus = \"Declined\";\r\n                        $(\"#status\").addClass('pending');\r\n                        message = data.message;\r\n                        var info = \"Order \" + $scope.orderDetail.orderID + \" is declined due to \" + $scope.reason;\r\n\r\n                        sendDeclineEmail(info, function (flag) {\r\n                            if (flag){\r\n                                $.unblockUI();\r\n                                if (window.device) {\r\n                                    navigator.notification.alert(message, null, '', 'Ok');\r\n                                } else {\r\n                                    alert(message);\r\n                                }\r\n\r\n                            }\r\n                        })\r\n\r\n\r\n                    } else {\r\n                        $.unblockUI();\r\n                        message = \"Something went wrong. Please try again.\"\r\n                        if (window.device) {\r\n                            navigator.notification.alert(message, null, '', 'Ok');\r\n                        } else {\r\n                            alert(message);\r\n                        }\r\n                    }\r\n\r\n\r\n                }).\r\n                error(function (data, status, headers, config) {\r\n                    $.unblockUI();\r\n\r\n                });\r\n\r\n            }\r\n            catch (e) {\r\n            }\r\n\r\n        }\r\n    }\r\n\r\n    $scope.hourUp = function () {\r\n        if ($scope.hours < 23)\r\n            $scope.hours++;\r\n    }\r\n    $scope.hourDown = function () {\r\n        if ($scope.hours > 0)\r\n            $scope.hours--;\r\n    }\r\n    $scope.minUp = function () {\r\n        if ($scope.min < 55)\r\n            $scope.min += 5;\r\n    }\r\n    $scope.minDown = function () {\r\n        if ($scope.min > 0)\r\n            $scope.min -= 5;\r\n    }\r\n\r\n    $scope.showReadyDeliverDiv = function () {\r\n        if (merchantData.supportReadyAlert && merchantData.supportReadyAlert.indexOf(\"Yes\") != -1 && $scope.orderStatus == \"Confirmed\" && $scope.orderDetail.delivered == \"No\") {\r\n            return true;\r\n        } else {\r\n            return false;\r\n        }\r\n    }\r\n\r\n    $scope.orderReady = function () {\r\n        if ($scope.orderDetail.ready == 'No') {\r\n            if (window.device) {\r\n                navigator.notification.confirm(\r\n                    'Is the order ready ?',  // message\r\n                    onConfirm,              // callback to invoke with index of button pressed\r\n                    '',            // title\r\n                    'Yes,No'          // buttonLabels\r\n                );\r\n\r\n            } else {\r\n                var r = confirm(\"Is order ready ?\");\r\n                if (r == true) {\r\n\r\n                } else {\r\n\r\n                }\r\n            }\r\n\r\n        }\r\n\r\n    };\r\n    function onConfirm(buttonIndex) {\r\n        if (buttonIndex == 1) {\r\n            $.blockUI({\r\n                message: '<div id=\"floatingBarsG\"><div class=\"blockG\" id=\"rotateG_01\"><\/div><div class=\"blockG\" id=\"rotateG_02\"><\/div><div class=\"blockG\" id=\"rotateG_03\"><\/div><div class=\"blockG\" id=\"rotateG_04\"><\/div><div class=\"blockG\" id=\"rotateG_05\"><\/div><div class=\"blockG\" id=\"rotateG_06\"><\/div><div class=\"blockG\" id=\"rotateG_07\"><\/div><div class=\"blockG\" id=\"rotateG_08\"><\/div><\/div><div><\/div>'\r\n            });\r\n\r\n            orderReady();\r\n        } else {\r\n\r\n        }\r\n\r\n    }\r\n\r\n\r\n    function orderReady() {\r\n        var serverUrl = \"http://172.20.4.96:8080/kryptosds/v1/bigdeal/us/merchantOrderStatusUpdate\";\r\n        var testURL = \"https://kryptosda.kryptosmobile.com/kryptosds/v1/bigdeal/us/merchantOrderStatusUpdateTest\";\r\n        var prodURL = \"https://kryptosda.kryptosmobile.com/kryptosds/v1/bigdeal/us/merchantOrderStatusUpdate\";\r\n\r\n        var proxyData = {\r\n            \"tenant\": $rootScope.metadata.tenantid,\r\n            \"orderID\": $scope.orderDetail.orderID,\r\n            \"emailID\": $scope.orderDetail.emailID,\r\n            \"ready\": \"Yes\"\r\n        };\r\n        try {\r\n            $http({\r\n                method: \"POST\",\r\n                url: serverUrl,\r\n                data: proxyData\r\n            }).\r\n            success(function (data, status, headers, config) {\r\n\r\n                var message = \"\";\r\n                if (data.success == true) {\r\n                    $scope.orderDetail.ready = 'Yes';\r\n                    var custName = $scope.orderDetail.name;\r\n                    var info = \"Your order \" + $scope.orderDetail.orderID + \" is  is ready. Please come and pick it up.\";\r\n                    sendEmailToCustomer(custName, info, \"Ready\", function (flag) {\r\n                        $.unblockUI();\r\n                    });\r\n                    //sendReadySmsToCustomer();\r\n                } else {\r\n                    $.unblockUI();\r\n                    message = \"Something went wrong. Please try again.\"\r\n                    if (window.device) {\r\n                        navigator.notification.alert(message, null, '', 'Ok');\r\n                    } else {\r\n                        alert(message);\r\n                    }\r\n\r\n                }\r\n\r\n\r\n            }).\r\n            error(function (data, status, headers, config) {\r\n                $.unblockUI();\r\n\r\n            });\r\n\r\n        }\r\n        catch (e) {\r\n        }\r\n\r\n    }\r\n\r\n    $scope.orderDelivered = function () {\r\n        $.blockUI({\r\n            message: '<div id=\"floatingBarsG\"><div class=\"blockG\" id=\"rotateG_01\"><\/div><div class=\"blockG\" id=\"rotateG_02\"><\/div><div class=\"blockG\" id=\"rotateG_03\"><\/div><div class=\"blockG\" id=\"rotateG_04\"><\/div><div class=\"blockG\" id=\"rotateG_05\"><\/div><div class=\"blockG\" id=\"rotateG_06\"><\/div><div class=\"blockG\" id=\"rotateG_07\"><\/div><div class=\"blockG\" id=\"rotateG_08\"><\/div><\/div><div><\/div>'\r\n        });\r\n\r\n        var serverUrl = \"http://172.20.4.96:8080/kryptosds/v1/bigdeal/us/merchantOrderStatusUpdate\";\r\n        var testURL = \"https://kryptosda.kryptosmobile.com/kryptosds/v1/bigdeal/us/merchantOrderStatusUpdateTest\";\r\n        var prodURL = \"https://kryptosda.kryptosmobile.com/kryptosds/v1/bigdeal/us/merchantOrderStatusUpdate\";\r\n\r\n        var proxyData = {\r\n            \"tenant\": $rootScope.metadata.tenantid,\r\n            \"orderID\": $scope.orderDetail.orderID,\r\n            \"emailID\": $scope.orderDetail.emailID,\r\n            \"delivered\": \"Yes\"\r\n        };\r\n        try {\r\n            $http({\r\n                method: \"POST\",\r\n                url: serverUrl,\r\n                data: proxyData\r\n            }).\r\n            success(function (data, status, headers, config) {\r\n\r\n                var message = \"\";\r\n                if (data.success == true) {\r\n                    $scope.orderDetail.delivered = 'Yes';\r\n                    var custName = $scope.orderDetail.name;\r\n                    var info = \"Your order \" + $scope.orderDetail.orderID + \" has been successfully delivered. Enjoy your meal :)\";\r\n                    sendEmailToCustomer(custName, info, \"Delivered\", function (flag) {\r\n                        $.unblockUI();\r\n                    });\r\n                    $scope.$apply();\r\n                } else {\r\n                    $.unblockUI();\r\n                    message = \"Something went wrong. Please try again.\"\r\n                    if (window.device) {\r\n                        navigator.notification.alert(message, null, '', 'Ok');\r\n                    } else {\r\n                        alert(message);\r\n                    }\r\n\r\n                }\r\n\r\n\r\n            }).\r\n            error(function (data, status, headers, config) {\r\n                $.unblockUI();\r\n\r\n            });\r\n\r\n        }\r\n        catch (e) {\r\n        }\r\n\r\n    }\r\n\r\n    function sendEmailToCustomer(custName, info, status, callback) {\r\n        // alert(\"sending mail\");\r\n\r\n        try {\r\n            var today = new Date($scope.orderDetail.Timestamp);\r\n            var dd = today.getDate();\r\n            var mm = today.getMonth() + 1; //January is 0!\r\n            var yyyy = today.getFullYear();\r\n\r\n            if (dd < 10) {\r\n                dd = '0' + dd\r\n            }\r\n\r\n            if (mm < 10) {\r\n                mm = '0' + mm\r\n            }\r\n            var time = today.getHours() + \":\" + today.getMinutes();\r\n\r\n            today = mm + '/' + dd + '/' + yyyy;\r\n            var order = $scope.orderDetail.order.cartItems;\r\n            var restName = $scope.orderDetail.restName;\r\n            if ($scope.orderDetail.order.orderType.indexOf(\"Pick\") != -1) {\r\n                var type = \"Pick Up\";\r\n            }\r\n            else {\r\n                var type = \"Delivery\";\r\n            }\r\n            var emailBody = \"<html><body>\";\r\n            emailBody += \"<div style='width:100%;color: #000;text-align: left;vertical-align: 30px'><b>Dear \" + custName + \",<\/b><\/div><br/>\";\r\n            emailBody += \"<div style='width:100%;color: #000;text-align: left;vertical-align: 30px'><b>\" + info + \"<\/b><\/div><br/>\";\r\n            emailBody += \"<div style='width:100%;color: #000;text-align: left;vertical-align: 30px'><b>Order placed at: \" + today + \"  \" + time + \"<\/b><\/div><br/>\";\r\n            emailBody += \"<div style='width:100%;color: #000;text-align: left;vertical-align: 30px'><b>\" + \"Order: \" + $scope.orderDetail.orderID + \"<\/b><\/div><br/>\";\r\n            emailBody += \"<div style='width:100%;color: #000;text-align: left;vertical-align: 30px'><b>\" + \"Restaurant: \" + restName + \"<\/b><\/div><br/>\";\r\n            emailBody += \"<div style='width:100%;color: #000;text-align: left;vertical-align: 30px'><b>\" + \"Contact: \" + $scope.orderDetail.restPhone + \"<\/b><\/div><br/>\";\r\n            emailBody += \"<div style='width:100%;background:#cc0000;color:#fff;text-align:center;vertical-align:30px;'>Order Details<\/div><br><b>Order Summary<\/b><br><br>\";\r\n            emailBody += \"<div style='width:70%;max-width:400px;float:left;font-size:14px;'><b>ITEM<\/b><\/div>\";\r\n            emailBody += \"<div style='width:15%;max-width:50px;float:left;font-size:14px;'><b>QTY<\/b><\/div>\";\r\n            emailBody += \"<div style='width:15%;max-width:50px;float:left;font-size:14px;text-align: right;'><b>PRICE<\/b><\/div>\";\r\n            emailBody += \"<div style='clear:both'><\/div>\";\r\n            for (var i = 0; i < order.length; i++) {\r\n\r\n                emailBody += \"<div style='width:70%;max-width:400px;float:left;font-size:14px;'>\" + order[i].itemSelected.itemName + \"<div style='font-size:11px;'>\" + order[i].itemSelected.itemDesc + \"<\/div>\";\r\n                emailBody += \"<div style='font-size: 11px'><b>Choices<\/b><\/div>\"\r\n                for (var k = 0; k < order[i].itemChoices.length; k++) {\r\n                    emailBody += \"<div style='font-size:11px;'>\" + order[i].itemChoices[k].choiceTitle + \"<\/div>\";\r\n                }\r\n                if (order[i].itemspecialInsc.length != 0) {\r\n                    emailBody += \"<div style='font-size: 11px'><b>Special Instructions: <\/b>\" + order[i].itemspecialInsc + \"<\/div>\"\r\n\r\n                }\r\n                emailBody += \"<\/div>\";\r\n                emailBody += \"<div style='width:15%;max-width:50px;float:left;font-size:14px;'>x\" + order[i].itemQuantity + \"<\/div>\";\r\n\r\n                emailBody += \"<div style='width:15%;max-width:50px;float:left;font-size:14px;text-align: right;'>$\" + order[i].itemAmount + \"<\/div>\";\r\n                emailBody += \"<div style='clear:both'><\/div><br/>\";\r\n            }\r\n            emailBody += \"<hr style=' margin-top: 20px;margin-bottom: 20px;border: 0;border-top: 1px solid #000'>\";\r\n\r\n            emailBody += \"<div style='width:70%;max-width:400px;float:left;font-size:14px;'>Sub-total<\/div><div style='width:15%;max-width:50px;float:left;font-size:14px;'>&nbsp;<\/div><div style='width:15%;max-width:60px;float:left;font-size:14px;text-align: right;'>$\" + $scope.subtotal + \"<\/div><br/><div style='clear:both'><\/div>\";\r\n\r\n            emailBody += \"<div style='width:70%;max-width:400px;float:left;font-size:14px;'>Discount @\" + $scope.discount + \"%<\/div><div style='width:15%;max-width:50px;float:left;font-size:14px;'>&nbsp;<\/div><div style='width:15%;max-width:60px;float:left;font-size:14px;text-align: right;'>-$\" + $scope.discountamount + \"<\/div><br/><div style='clear:both'><\/div>\";\r\n\r\n            emailBody += \"<div style='width:70%;max-width:400px;float:left;font-size:14px;'>Sales Charge<\/div><div style='width:15%;max-width:50px;float:left;font-size:14px;'>&nbsp;<\/div><div style='width:15%;max-width:60px;float:left;font-size:14px;text-align: right;'>+$\" + $scope.salesCharge + \"<\/div><br/><div style='clear:both'><\/div>\";\r\n\r\n            if ($scope.orderDetail.order.orderType.indexOf(\"Delivery\") != -1) {\r\n                emailBody += \"<div style='width:70%;max-width:400px;float:left;font-size:14px;'>Delivery Charges<\/div><div style='width:15%;max-width:50px;float:left;font-size:14px;'>&nbsp;<\/div><div style='width:15%;max-width:50px;float:left;font-size:14px;text-align: right;'>+$\" + $scope.deliveryChargeAmount + \"<\/div><br/><div style='clear:both'><\/div>\";\r\n\r\n            }\r\n            emailBody += \"<hr style=' margin-top: 20px;margin-bottom: 20px;border: 0;border-top: 1px solid #000'>\";\r\n\r\n            emailBody += \"<div style='width:70%;max-width:400px;float:left;font-size:14px;'>Total Amount Paid<\/div><div style='width:15%;max-width:50px;float:left;font-size:14px;'>&nbsp;<\/div><div style='width:15%;max-width:50px;float:left;font-size:14px;text-align: right;'><b>$\" + $scope.payableamount + \"<\/b><\/div><br/><div style='clear:both'><\/div>\";\r\n            emailBody += \"<div style='width:100%;color: #000;text-align: left;vertical-align: 30px'><b>For any queries or clarification, please call us at (844) 620-0002 (Toll Free).<\/b><\/div><br/>\";\r\n\r\n            emailBody += \"<\/body><\/html>\";\r\n        } catch (e) {\r\n            alert(e);\r\n        }\r\n\r\n\r\n        var emailData = {\r\n            //'to': $scope.orderDetail.emailID + \";aashish@getbigdeal.co;flourisha_carroll@kryptosmobile.com;nehabhushan.92@gmail.com;daman.preetsingh@yahoo.co.in;daman.preetsingh.ds@gmail.com;aashishsingh333@gmail.com;ash_bard@kryptosmobile.com\",\r\n            'to':$scope.orderDetail.emailID+\";daman.preetsingh@yahoo.co.in\",\r\n            'subject': $scope.orderDetail.orderID + \" \" + status,\r\n            'body': emailBody,\r\n            'from': 'order@kryptosmobile.com',\r\n            'attachment': true\r\n        };\r\n        console.log(JSON.stringify(emailData));\r\n        var xhr = $.ajax({\r\n            url: \"https://kryptos.kryptosmobile.com/gateway/CEAI/kryptosemailsender\",\r\n            contentType: 'application/json',\r\n            type: \"POST\",\r\n            headers: {\r\n                'licenseKey': 'UjpIaWVDVzpTOjE0NDk0ODk2MzUxMzE6VTpha0BjYW1wdXNlYWkub3JnOlQ6NDpQOjI4Ng=='\r\n            },\r\n            data: JSON.stringify(emailData),\r\n            success: function (data) {\r\n\r\n                if (data.response == \"Successful\") {\r\n                    callback(true);\r\n                }\r\n            },\r\n            error: function (err) {\r\n                emailSuccess = false;\r\n                if (window.device) {\r\n                    navigator.notification.alert(\"Something went wrong. Please call at +91-8527238292\", null, 'Oops..', 'Ok');\r\n                } else {\r\n                    alert(\"Something went wrong. Please call at +91-8527238292\");\r\n                }\r\n                $.unblockUI();\r\n\r\n            }\r\n        });\r\n\r\n\r\n    }\r\n\r\n    function sendDeclineEmail(info, cb) {\r\n        try {\r\n            var today = new Date($scope.orderDetail.Timestamp);\r\n            var dd = today.getDate();\r\n            var mm = today.getMonth() + 1; //January is 0!\r\n            var yyyy = today.getFullYear();\r\n\r\n            if (dd < 10) {\r\n                dd = '0' + dd\r\n            }\r\n\r\n            if (mm < 10) {\r\n                mm = '0' + mm\r\n            }\r\n            var time = today.getHours() + \":\" + today.getMinutes();\r\n\r\n            today = mm + '/' + dd + '/' + yyyy;\r\n            var order = $scope.orderDetail.order.cartItems;\r\n            var restName = $scope.orderDetail.restName;\r\n            if ($scope.orderDetail.order.orderType.indexOf(\"Pick\") != -1) {\r\n                var type = \"Pick Up\";\r\n            }\r\n            else {\r\n                var type = \"Delivery\";\r\n            }\r\n            var emailBody = \"<html><body>\";\r\n            emailBody += \"<div style='width:100%;color: #000;text-align: left;vertical-align: 30px'><b>\" + info + \"<\/b><\/div><br/>\";\r\n            emailBody += \"<div style='width:100%;color: #000;text-align: left;vertical-align: 30px'><b>Order placed at: \" + today + \"  \" + time + \"<\/b><\/div><br/>\";\r\n            emailBody += \"<div style='width:100%;color: #000;text-align: left;vertical-align: 30px'><b>\" + \"Order: \" + $scope.orderDetail.orderID + \"<\/b><\/div><br/>\";\r\n            emailBody += \"<div style='width:100%;color: #000;text-align: left;vertical-align: 30px'><b>\" + \"Restaurant: \" + restName + \"<\/b><\/div><br/>\";\r\n            emailBody += \"<div style='width:100%;color: #000;text-align: left;vertical-align: 30px'><b>\" + \"Contact: \" + $scope.orderDetail.restPhone + \"<\/b><\/div><br/>\";\r\n            emailBody += \"<div style='width:100%;background:#cc0000;color:#fff;text-align:center;vertical-align:30px;'>Order Details<\/div><br><b>Order Summary<\/b><br><br>\";\r\n            emailBody += \"<div style='width:70%;max-width:400px;float:left;font-size:14px;'><b>ITEM<\/b><\/div>\";\r\n            emailBody += \"<div style='width:15%;max-width:50px;float:left;font-size:14px;'><b>QTY<\/b><\/div>\";\r\n            emailBody += \"<div style='width:15%;max-width:50px;float:left;font-size:14px;text-align: right;'><b>PRICE<\/b><\/div>\";\r\n            emailBody += \"<div style='clear:both'><\/div>\";\r\n            for (var i = 0; i < order.length; i++) {\r\n\r\n                emailBody += \"<div style='width:70%;max-width:400px;float:left;font-size:14px;'>\" + order[i].itemSelected.itemName + \"<div style='font-size:11px;'>\" + order[i].itemSelected.itemDesc + \"<\/div>\";\r\n                emailBody += \"<div style='font-size: 11px'><b>Choices<\/b><\/div>\"\r\n                for (var k = 0; k < order[i].itemChoices.length; k++) {\r\n                    emailBody += \"<div style='font-size:11px;'>\" + order[i].itemChoices[k].choiceTitle + \"<\/div>\";\r\n                }\r\n                if (order[i].itemspecialInsc.length != 0) {\r\n                    emailBody += \"<div style='font-size: 11px'><b>Special Instructions: <\/b>\" + order[i].itemspecialInsc + \"<\/div>\"\r\n\r\n                }\r\n                emailBody += \"<\/div>\";\r\n                emailBody += \"<div style='width:15%;max-width:50px;float:left;font-size:14px;'>x\" + order[i].itemQuantity + \"<\/div>\";\r\n\r\n                emailBody += \"<div style='width:15%;max-width:50px;float:left;font-size:14px;text-align: right;'>$\" + order[i].itemAmount + \"<\/div>\";\r\n                emailBody += \"<div style='clear:both'><\/div><br/>\";\r\n            }\r\n            emailBody += \"<hr style=' margin-top: 20px;margin-bottom: 20px;border: 0;border-top: 1px solid #000'>\";\r\n\r\n            emailBody += \"<div style='width:70%;max-width:400px;float:left;font-size:14px;'>Sub-total<\/div><div style='width:15%;max-width:50px;float:left;font-size:14px;'>&nbsp;<\/div><div style='width:15%;max-width:60px;float:left;font-size:14px;text-align: right;'>$\" + $scope.subtotal + \"<\/div><br/><div style='clear:both'><\/div>\";\r\n\r\n            emailBody += \"<div style='width:70%;max-width:400px;float:left;font-size:14px;'>Discount @\" + $scope.discount + \"%<\/div><div style='width:15%;max-width:50px;float:left;font-size:14px;'>&nbsp;<\/div><div style='width:15%;max-width:60px;float:left;font-size:14px;text-align: right;'>-$\" + $scope.discountamount + \"<\/div><br/><div style='clear:both'><\/div>\";\r\n\r\n            emailBody += \"<div style='width:70%;max-width:400px;float:left;font-size:14px;'>Sales Charge<\/div><div style='width:15%;max-width:50px;float:left;font-size:14px;'>&nbsp;<\/div><div style='width:15%;max-width:60px;float:left;font-size:14px;text-align: right;'>+$\" + $scope.salesCharge + \"<\/div><br/><div style='clear:both'><\/div>\";\r\n\r\n            if ($scope.orderDetail.order.orderType.indexOf(\"Delivery\") != -1) {\r\n                emailBody += \"<div style='width:70%;max-width:400px;float:left;font-size:14px;'>Delivery Charges<\/div><div style='width:15%;max-width:50px;float:left;font-size:14px;'>&nbsp;<\/div><div style='width:15%;max-width:50px;float:left;font-size:14px;text-align: right;'>+$\" + $scope.deliveryChargeAmount + \"<\/div><br/><div style='clear:both'><\/div>\";\r\n            }\r\n            emailBody += \"<hr style=' margin-top: 20px;margin-bottom: 20px;border: 0;border-top: 1px solid #000'>\";\r\n\r\n            emailBody += \"<div style='width:70%;max-width:400px;float:left;font-size:14px;'>Total Amount Paid<\/div><div style='width:15%;max-width:50px;float:left;font-size:14px;'>&nbsp;<\/div><div style='width:15%;max-width:50px;float:left;font-size:14px;text-align: right;'><b>$\" + $scope.payableamount + \"<\/b><\/div><br/><div style='clear:both'><\/div>\";\r\n            emailBody += \"<div style='width:100%;color: #000;text-align: left;vertical-align: 30px'><b>For any queries or clarification, please call us at (844) 620-0002 (Toll Free).<\/b><\/div><br/>\";\r\n\r\n            emailBody += \"<\/body><\/html>\";\r\n        } catch (e) {\r\n            alert(e);\r\n        }\r\n\r\n\r\n        var emailData = {\r\n            //'to': \"vendortransaction@kryptosmobile.com;aashish@getbigdeal.co;flourisha_carroll@kryptosmobile.com;nehabhushan.92@gmail.com;daman.preetsingh@yahoo.co.in;daman.preetsingh.ds@gmail.com;aashishsingh333@gmail.com;ash_bard@kryptosmobile.com\",\r\n            'to':'daman.preetsingh@yahoo.co.in',\r\n            'subject': $scope.orderDetail.orderID + \" Decline\",\r\n            'body': emailBody,\r\n            'from': 'order@kryptosmobile.com',\r\n            'attachment': true\r\n        };\r\n        console.log(JSON.stringify(emailData));\r\n        var xhr = $.ajax({\r\n            url: \"https://kryptos.kryptosmobile.com/gateway/CEAI/kryptosemailsender\",\r\n            contentType: 'application/json',\r\n            type: \"POST\",\r\n            headers: {\r\n                'licenseKey': 'UjpIaWVDVzpTOjE0NDk0ODk2MzUxMzE6VTpha0BjYW1wdXNlYWkub3JnOlQ6NDpQOjI4Ng=='\r\n            },\r\n            data: JSON.stringify(emailData),\r\n            success: function (data) {\r\n\r\n                if (data.response == \"Successful\") {\r\n                    cb(true);\r\n                }\r\n            },\r\n            error: function (err) {\r\n                emailSuccess = false;\r\n                if (window.device) {\r\n                    navigator.notification.alert(\"Something went wrong. Please call at (844)620-0002 (Toll Free)\", null, 'Oops..', 'Ok');\r\n                } else {\r\n                    alert(\"Something went wrong. Please call at (844)620-0002 (Toll Free)\");\r\n                }\r\n                $.unblockUI();\r\n\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n}",
          "datatemplate": " <style>\r\n    @import url(http://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,700italic,300,400,700);\r\n\r\n    .openSans {\r\n        font-family: 'Open Sans', sans-serif;\r\n\r\n    }\r\n\r\n    .getCode {\r\n        color: white;\r\n        background: #0a0a0a;\r\n        padding: 15px 15px;\r\n        width: 100%;\r\n        font-size: 15px;\r\n        font-weight: 700;\r\n        pointer-events: auto;\r\n    }\r\n\r\n    .confirmed {\r\n        color: white;\r\n        background: #7f7f7f;\r\n        padding: 15px 15px;\r\n        font-size: 15px;\r\n        font-weight: 700;\r\n        pointer-events: auto;\r\n        text-align: center;\r\n        border-radius: 2px;\r\n    }\r\n\r\n    .pending {\r\n        color: white;\r\n        background: #7f7f7f;\r\n        padding: 15px 15px;\r\n        font-size: 15px;\r\n        font-weight: 700;\r\n        pointer-events: auto;\r\n        border-radius: 2px;\r\n    }\r\n\r\n    .minAmount {\r\n        color: white;\r\n        background: #8cdb9b;\r\n        padding: 15px 15px;\r\n        width: 100%;\r\n        font-size: 15px;\r\n        font-weight: 700;\r\n        pointer-events: auto;\r\n    }\r\n\r\n    .confirmOrder {\r\n        padding: 15px !important;\r\n        background: #19B838;\r\n        color: white;\r\n        font-size: 18px;\r\n        text-align: center;\r\n        border-radius: 3px;\r\n    }\r\n\r\n    .confirmOrder:active {\r\n        background: #0f6e21;\r\n    }\r\n\r\n    .declineOrder {\r\n        padding: 15px !important;\r\n        background: #c00001;\r\n        color: white;\r\n        font-size: 18px;\r\n        text-align: center;\r\n        border-radius: 3px;\r\n    }\r\n\r\n    .declineOrder:active {\r\n        background: #860000;\r\n    }\r\n\r\n    hr {\r\n        margin-top: 20px;\r\n        margin-bottom: 20px;\r\n        border: 0;\r\n        border-top: 1px solid #000\r\n    }\r\n\r\n    .has-navbar-top .app-body {\r\n        padding-top: 47px;\r\n    }\r\n\r\n    .navbar-absolute-bottom {\r\n        top: auto;\r\n        bottom: 0;\r\n        border-bottom: 0 none;\r\n        border-top-width: 1px;\r\n        min-height: 0 !important;\r\n        height: 0 !important;\r\n    }\r\n\r\n    .navbar-absolute-top {\r\n        top: 0;\r\n        border-bottom-width: 0px !important;\r\n    }\r\n\r\n    .app-body {\r\n        padding-bottom: 0px !important;\r\n    }\r\n\r\n    .infoClass {\r\n        font-size: 14px;\r\n        font-weight: 100;\r\n        margin-top: 10px;\r\n        transition: 0.5s ease-in-out;\r\n    }\r\n\r\n    .blurBackground {\r\n        -webkit-filter: blur(5px);\r\n        -moz-filter: blur(5px);\r\n        -o-filter: blur(5px);\r\n        -ms-filter: blur(5px);\r\n        filter: blur(5px);\r\n    }\r\n\r\n    .dialogBackground {\r\n        position: absolute;\r\n        padding: 10px 10px 10px 10px;\r\n        top: 25%;\r\n        /*transform: translateY(-50%) !important;*/\r\n        width: 80%;\r\n        height: auto;\r\n        margin-left: 10%;\r\n        background: white;\r\n        border-radius: 5px;\r\n        box-shadow: 0 0px 14px #ccc;\r\n        border: 1px solid #ccc;\r\n    }\r\n\r\n    .confirmResponse {\r\n        width: 100%;\r\n        margin: 5% 0 0 0;\r\n        font-size: 20px;\r\n        color: white;\r\n        background: #19B838;\r\n        text-align: center;\r\n        padding: 15px 15px;\r\n        border-radius: 3px;\r\n        font-weight: bold;\r\n    }\r\n\r\n    .confirmResponse:active {\r\n        background: #0f6e21;\r\n    }\r\n\r\n    .declineUnselect {\r\n        width: 100%;\r\n        margin: 5% 0 0 0;\r\n        font-size: 20px;\r\n        color: grey;\r\n        background: #850001;\r\n        text-align: center;\r\n        padding: 15px 15px;\r\n        border-radius: 3px;\r\n        font-weight: bold;\r\n    }\r\n\r\n    .declineResponse {\r\n        width: 100%;\r\n        margin: 5% 0 0 0;\r\n        font-size: 20px;\r\n        color: white;\r\n        background: #c00001;\r\n        text-align: center;\r\n        padding: 15px 15px;\r\n        border-radius: 3px;\r\n        font-weight: bold;\r\n    }\r\n\r\n    .declineResponse:active {\r\n        background: #860000;\r\n    }\r\n\r\n    .divDisable {\r\n        padding: 15px !important;\r\n        background: #19B838;\r\n        color: #7f7f7f;\r\n        font-size: 18px;\r\n        text-align: center;\r\n        border-radius: 3px;\r\n    }\r\n\r\n    input[type=\"radio\"] {\r\n        display: none;\r\n    }\r\n\r\n    input[type=\"radio\"] + label {\r\n        color: #000;\r\n        font-family: Arial, sans-serif;\r\n        font-size: 14px;\r\n    }\r\n\r\n    input[type=\"radio\"] + label span {\r\n        display: inline-block;\r\n        width: 14px;\r\n        height: 14px;\r\n        margin: -1px 4px 0 0;\r\n        vertical-align: middle;\r\n        cursor: pointer;\r\n        -moz-border-radius: 50%;\r\n        border-radius: 50%;\r\n    }\r\n\r\n    input[type=\"radio\"] + label span {\r\n        background-color: #000;\r\n    }\r\n\r\n    input[type=\"radio\"]:checked + label span {\r\n        background-color: #cc0000;\r\n    }\r\n\r\n    input[type=\"radio\"] + label span,\r\n    input[type=\"radio\"]:checked + label span {\r\n        -webkit-transition: background-color 0.2s linear;\r\n        -o-transition: background-color 0.2s linear;\r\n        -moz-transition: background-color 0.2s linear;\r\n        transition: background-color 0.2s linear;\r\n    }\r\n\r\n\r\n<\/style>\r\n <div id=\"orderDesc\">\r\n    <div class=\"getCode\">\r\n        {{name}}\r\n        <i class=\"fa fa-caret-down\" aria-hidden=\"true\" style=\"float: right;color: white;margin-top: 4px;\"\r\n           ng-click=\"showDetails()\" ng-show=\"custDetail\"><\/i>\r\n        <i class=\"fa fa-caret-up\" aria-hidden=\"true\" style=\"float: right;color: white;margin-top: 4px;\"\r\n           ng-click=\"showDetails()\" ng-hide=\"custDetail\"><\/i>\r\n\r\n        <div ng-hide=\"custDetail\" class=\"infoClass\">\r\n            <i class=\"fa fa-home\" aria-hidden=\"true\"><\/i>&nbsp;&nbsp;{{orderDetail.address}}<br/>\r\n            <i class=\"fa fa-phone\" aria-hidden=\"true\"><\/i>&nbsp;&nbsp;+91-{{orderDetail.phone}}<br/>\r\n            <i class=\"fa fa-envelope\" aria-hidden=\"true\"><\/i>&nbsp;&nbsp;{{orderDetail.emailID}}<br/>\r\n            <i class=\"fa fa-calendar\" aria-hidden=\"true\">&nbsp;&nbsp;{{orderDetail.date}},&nbsp;{{time}}<\/i>\r\n        <\/div>\r\n    <\/div>\r\n    <div class=\"openSans\" style=\"padding: 10px 10px 10px 10px;background: #ffffff;border: 0;\">\r\n        <div class=\"form-group\" style=\"color: #e64243;font-size: 15px;font-weight: 700\">\r\n            <div class=\"col-xs-6 col-md-6\" style=\"padding-left: 15px !important;padding-right: 0 !important;\">\r\n                ITEMS\r\n            <\/div>\r\n            <div class=\"col-xs-3 col-md-3\" style=\"padding: 0 !important;\">\r\n                QTY\r\n            <\/div>\r\n            <div class=\"col-xs-3 col-md-3\" style=\"padding: 0 !important;\">\r\n                PRICE\r\n            <\/div>\r\n            <div style=\"clear:both\"><\/div>\r\n        <\/div>\r\n        <div class=\"form-group\" style=\"color: #000;font-size: 13px;\" ng-repeat=\"name in orderDetail.order.cartItems\">\r\n            <div class=\"col-xs-6 col-md-6\" style=\"padding-left: 15px !important;padding-right: 0 !important;\">\r\n                {{name.itemSelected.itemName}}\r\n                <div ng-repeat=\"choice in name.itemChoices\" style=\"color: #808080;font-size: 11px\">\r\n                    <span>{{choice.choiceTitle}}<\/span><span ng-if=\"$index!=name.itemChoices.length\"><br/><\/span>\r\n                <\/div>\r\n                <span style=\"color: #808080;font-size: 11px\">{{name.itemspecialInsc}}<\/span>\r\n\r\n            <\/div>\r\n            <div class=\"col-xs-3 col-md-3\" style=\"padding: 0 !important;\">\r\n                x{{name.itemQuantity}}\r\n\r\n            <\/div>\r\n            <div class=\"col-xs-2 col-md-2\" style=\"padding: 0 !important;text-align: center\">\r\n                ${{name.itemAmount}}\r\n            <\/div>\r\n            <div style=\"clear:both\"><\/div>\r\n        <\/div>\r\n        <hr>\r\n        <div class=\"form-group\" style=\"color: #000;font-size: 13px;\">\r\n            <div class=\"col-xs-6 col-md-6\" style=\"padding-left: 15px !important;padding-right: 0 !important;\">\r\n                Sub-total\r\n            <\/div>\r\n            <div class=\"col-xs-3 col-md-3\" style=\"padding: 0 !important;\">\r\n\r\n            <\/div>\r\n            <div class=\"col-xs-2 col-md-2\" style=\"padding: 0 !important;text-align: center\">\r\n                ${{subtotal}}\r\n            <\/div>\r\n            <div style=\"clear:both\"><\/div>\r\n        <\/div>\r\n        <div class=\"form-group\" style=\"color: #000;font-size: 13px;\">\r\n            <div class=\"col-xs-6 col-md-6\" style=\"padding-left: 15px !important;padding-right: 0 !important;\">\r\n                Discount @ {{discount}}%\r\n            <\/div>\r\n            <div class=\"col-xs-3 col-md-3\" style=\"padding: 0 !important;\">\r\n\r\n            <\/div>\r\n            <div class=\"col-xs-2 col-md-2\" style=\"padding: 0 !important;text-align: center\">\r\n                -${{discountamount}}\r\n            <\/div>\r\n            <div style=\"clear:both\"><\/div>\r\n        <\/div>\r\n\r\n        <div class=\"form-group\" style=\"color: #000;font-size: 13px;\">\r\n            <div class=\"col-xs-6 col-md-6\" style=\"padding-left: 15px !important;padding-right: 0 !important;\">\r\n                Sales Charge\r\n            <\/div>\r\n            <div class=\"col-xs-3 col-md-3\" style=\"padding: 0 !important;\">\r\n\r\n            <\/div>\r\n            <div class=\"col-xs-2 col-md-2\" style=\"padding: 0 !important;text-align: center\">\r\n                +${{salesCharge}}\r\n            <\/div>\r\n            <div style=\"clear:both\"><\/div>\r\n        <\/div>\r\n        <div ng-show=\"addDeliverycharge\" class=\"form-group\" style=\"color: #000;font-size: 13px;\">\r\n            <div class=\"col-xs-6 col-md-6\" style=\"padding-left: 15px !important;padding-right: 0 !important;\">\r\n                Delivery Charge\r\n            <\/div>\r\n            <div class=\"col-xs-3 col-md-3\" style=\"padding: 0 !important;\">\r\n\r\n            <\/div>\r\n            <div class=\"col-xs-2 col-md-2\" style=\"padding: 0 !important;text-align: center\">\r\n                +${{deliveryChargeAmount}}\r\n            <\/div>\r\n            <div style=\"clear:both\"><\/div>\r\n        <\/div>\r\n\r\n        <hr>\r\n        <div class=\"form-group\" style=\"color: #000;font-size: 13px;\">\r\n            <div class=\"col-xs-6 col-md-6\" style=\"padding-left: 15px !important;padding-right: 0 !important;\">\r\n                Total Amount\r\n            <\/div>\r\n            <div class=\"col-xs-3 col-md-3\" style=\"padding: 0 !important;\">\r\n\r\n            <\/div>\r\n            <div class=\"col-xs-2 col-md-2\" style=\"padding: 0 !important;text-align: center\">\r\n                <b>${{payableamount}}<\/b>\r\n            <\/div>\r\n            <div style=\"clear:both\"><\/div>\r\n        <\/div>\r\n        <div class=\"form-group\" style=\"color: #000;font-size: 13px;\">\r\n            <div class=\"col-xs-6 col-md-6\" style=\"padding-left: 15px !important;padding-right: 0 !important;\">\r\n                Due to Merchant\r\n            <\/div>\r\n            <div class=\"col-xs-3 col-md-3\" style=\"padding: 0 !important;\">\r\n\r\n            <\/div>\r\n            <div class=\"col-xs-2 col-md-2\" style=\"padding: 0 !important;text-align: center\">\r\n                <b>${{merchantDue}}<\/b>\r\n            <\/div>\r\n            <div style=\"clear:both\"><\/div>\r\n        <\/div>\r\n\r\n        <div class=\"form-group\" style=\"color: #000;font-size: 13px;\">\r\n            <div class=\"col-xs-6 col-md-6\" style=\"padding-left: 15px !important;padding-right: 0 !important;\">\r\n                Order Type\r\n            <\/div>\r\n            <div class=\"col-xs-3 col-md-3\" style=\"padding: 0 !important;\">\r\n\r\n            <\/div>\r\n            <div class=\"col-xs-2 col-md-2\" style=\"padding: 0 !important;text-align: center\">\r\n                <b>{{orderDetail.order.orderType}}<\/b>\r\n            <\/div>\r\n            <div style=\"clear:both\"><\/div>\r\n        <\/div>\r\n        <div class=\"form-group\" style=\"color: #000;font-size: 13px;\">\r\n            <div class=\"col-xs-6 col-md-6\" style=\"padding-left: 15px !important;padding-right: 0 !important;\">\r\n               Payment Mode\r\n            <\/div>\r\n            <div class=\"col-xs-3 col-md-3\" style=\"padding: 0 !important;\">\r\n\r\n            <\/div>\r\n            <div class=\"col-xs-2 col-md-2\" style=\"padding: 0 !important;text-align: center\">\r\n                <b>{{orderDetail.paymentMode}}<\/b>\r\n            <\/div>\r\n            <div style=\"clear:both\"><\/div>\r\n        <\/div>\r\n\r\n\r\n        <div id=\"status\" style=\"text-align: center;width: 100%;\" ng-show=\"orderStatus!='Pending'\">\r\n            {{orderStatus}}\r\n        <\/div>\r\n        <div ng-show=\"orderStatus=='Pending'\">\r\n            <div class=\"col-xs-5 col-md-5 confirmOrder\" ng-click=\"confirm()\">\r\n                Confirm\r\n            <\/div>\r\n            <div class=\"col-xs-2 col-md-2\">\r\n\r\n            <\/div>\r\n            <div class=\"col-xs-5 col-md-5 declineOrder\" ng-click=\"decline()\">\r\n                Decline\r\n            <\/div>\r\n            <div style=\"clear:both;\"/>\r\n        <\/div>\r\n        <div style=\"margin-top: 10px;\">\r\n            <div ng-show=\"showReadyDeliverDiv()\">\r\n\r\n                <div id=\"readyDiv\" class=\"col-xs-5 col-md-4\"\r\n                     ng-class=\"orderDetail.ready=='Yes'?'divDisable':'confirmOrder'\"\r\n                     ng-click=\"orderReady()\">\r\n                    Ready\r\n                <\/div>\r\n                <div class=\"col-xs-2 col-md-2\">\r\n                <\/div>\r\n                <div id=\"deliverDiv\" class=\"col-xs-5 col-md-5\"\r\n                     ng-class=\"orderDetail.ready=='Yes'?'confirmOrder':'divDisable'\"\r\n                     ng-click=\"orderDelivered()\">\r\n                    Deliver\r\n                <\/div>\r\n                <div style=\"clear:both;\"/>\r\n            <\/div>\r\n        <\/div>\r\n        <div class=\"confirmed\" style=\"text-align: center;width: 100%;\" ng-show=\"orderStatus=='Confirmed' && orderDetail.delivered=='Yes'\">\r\n            Delivered\r\n        <\/div>\r\n\r\n    <\/div>\r\n<\/div>\r\n<div class=\"openSans dialogBackground\"\r\n     ng-show=\"showConfirmDialog\">\r\n    <i class=\"fa fa-times\" aria-hidden=\"true\" style=\"position: absolute;right: 5%;font-size: 20px\"\r\n       ng-click=\"confirm()\"><\/i>\r\n\r\n    <div style=\"width: 100%;text-align: center;padding: 10% 0 0 0;\">\r\n        Order Id:<br/><span style=\"font-size: 15px;\"><b>{{orderDetail.orderID}}<\/b><\/span>\r\n    <\/div>\r\n\r\n    <div style=\"width: 100%;text-align: center;padding: 10% 0 0 0;\">\r\n        Type:<br/><span style=\"font-size: 15px;\"><b>{{orderDetail.order.orderType}}<\/b><\/span>\r\n    <\/div>\r\n\r\n    <div style=\"width: 100%;text-align: center;padding: 10% 0 0 0;\" ng-show=\"orderDetail.order.orderType=='Delivery'\">\r\n        Delivery at:<br/><span style=\"font-size: 15px;\"><b>{{orderDetail.address}}<\/b><\/span>\r\n    <\/div>\r\n    <div style=\"padding: 10% 0 0 0;\">\r\n        <div class=\"col-xs-4 col-md-4\" style=\"padding: 0;margin-top: 10%; text-align: right;\">\r\n\r\n            <span ng-show=\"orderDetail.order.orderType=='Delivery'\">Deliver in:<\/span>\r\n            <span ng-show=\"orderDetail.order.orderType!='Delivery'\">Pick Up in:<\/span>\r\n\r\n\r\n        <\/div>\r\n        <div class=\"col-xs-2 col-md-2\" style=\"padding: 0;text-align: center;\">\r\n            <i class=\"fa fa-caret-up\" aria-hidden=\"true\" style=\"font-size: 20px;margin-bottom: 12px;\"\r\n               ng-click=\"hourUp()\"><\/i><br/>\r\n            <span style=\"font-size: 36px;\"><b>{{hours}}<\/b><\/span><br/>\r\n            <i class=\"fa fa-caret-down\" aria-hidden=\"true\" style=\"font-size: 20px;\" ng-click=\"hourDown()\"><\/i>\r\n        <\/div>\r\n        <div class=\"col-xs-2 col-md-2\" style=\"padding: 0;text-align: center;\">\r\n            <i class=\"fa fa-caret-up\" aria-hidden=\"true\" style=\"font-size: 20px;margin-bottom: 12px;\"\r\n               ng-click=\"minUp()\"><\/i><br/>\r\n            <span style=\"font-size: 36px;\"><b>{{min}}<\/b><\/span><br/>\r\n            <i class=\"fa fa-caret-down\" aria-hidden=\"true\" style=\"font-size: 20px;\" ng-click=\"minDown()\"><\/i>\r\n        <\/div>\r\n        <div class=\"col-xs-4 col-md-4\" style=\"padding: 0 0 0 3%;text-align: left;margin-top: 10%;\">\r\n            hours\r\n        <\/div>\r\n        <div style=\"clear: both;\"><\/div>\r\n\r\n    <\/div>\r\n    <div ng-click=\"confirmOrder()\" class=\"confirmResponse\">\r\n        Confirm\r\n    <\/div>\r\n\r\n\r\n\r\n\r\n<\/div>\r\n\r\n\r\n  <div class=\"openSans dialogBackground\"\r\n     ng-show=\"showDeclineDialog\">\r\n    <i class=\"fa fa-times\" aria-hidden=\"true\" style=\"position: absolute;right: 5%;font-size: 20px\"\r\n       ng-click=\"decline()\"><\/i>\r\n\r\n    <div style=\"font-size: 15px;color: black;padding: 25px 0 5px 0;\">\r\n        <b>Please mention a reason for decline:<\/b><br/>\r\n    <\/div>\r\n    <div class=\"list-group\">\r\n        <div class=\"list-group-item\">\r\n            <input type=\"radio\" id=\"Inventory\" name=\"choices\"\r\n                   ng-change=\"deliverySelected()\" ng-model=\"reason\" value=\"Inventory not available.\"/>\r\n            <label for=\"Inventory\"><span><\/span>Inventory not available.<\/label>\r\n        <\/div>\r\n        <div class=\"list-group-item\">\r\n            <input type=\"radio\" id=\"traffic\" name=\"choices\"\r\n                   ng-change=\"deliverySelected()\" ng-model=\"reason\" value=\"High traffic at outlet.\"/>\r\n            <label for=\"traffic\"><span><\/span>High traffic at outlet.<\/label>\r\n\r\n        <\/div>\r\n\r\n        <div class=\"list-group-item\">\r\n            <input type=\"radio\" id=\"Other\" name=\"choices\"\r\n                   ng-change=\"deliverySelected()\" ng-model=\"reason\" value=\"No reason mentioned.\"/>\r\n            <label for=\"Other\"><span><\/span>Other<\/label>\r\n\r\n        <\/div>\r\n    <\/div>\r\n\r\n    <div ng-click=\"declineOrder()\" class=\"declineResponse\">\r\n        Decline\r\n    <\/div>\r\n<\/div>\r\n"
        },
        {
          "pageid": "MerchantAppPage3",
          "pageTemplate": "<div><\/div>",
          "datatemplate": "<style>\r\n    #fixedHeaderContent {\r\n        display: none;\r\n    }\r\n\r\n    .footerGroupIcons {\r\n        display: none !important;\r\n    }\r\n\r\n    .sideBarMenu {\r\n        display: none;\r\n    }\r\n\r\n    .backButtonArrow {\r\n        display: none;\r\n    }\r\n\r\n    .app-body {\r\n        background-color: #ffffff;\r\n        background: #ffffff;\r\n    }\r\n\r\n    #branding {\r\n        display: none;\r\n    }\r\n\r\n    .loginPageBackButton {\r\n        display: none !important;\r\n    }\r\n\r\n    #loginDiv {\r\n        margin: 25px auto;\r\n        width: 90%;\r\n        margin-bottom: 0px;\r\n    }\r\n\r\n    #loginDiv input {\r\n        border: none;\r\n        height: 48px;\r\n        outline: none;\r\n    }\r\n\r\n    #loginDiv input[type=\"text\"] {\r\n        background: transparent;\r\n        /*border-top: 1px solid #efefef;*/\r\n        color: #fff;\r\n        padding-left: 12px;\r\n        width: 100%;\r\n        -webkit-border-top-right-radius: 2px;\r\n        -moz-border-radius-topright: 2px;\r\n        border-top-right-radius: 2px;\r\n    }\r\n\r\n    #loginDiv input[type=\"password\"] {\r\n        background-color: transparent;\r\n        /*border-bottom: 1px solid #efefef;\r\n        border-top: 1px solid #efefef;*/\r\n        color: #fff;\r\n        padding-left: 12px;\r\n        width: 100%;\r\n        -webkit-border-bottom-right-radius: 2px;\r\n        -moz-border-radius-bottomright: 2px;\r\n        border-bottom-right-radius: 2px;\r\n    }\r\n\r\n    .navbar-app {\r\n        display: none;\r\n    }\r\n    ::-webkit-input-placeholder { /* WebKit, Blink, Edge */\r\n        color:    #000000 !important;\r\n    }\r\n    :-moz-placeholder { /* Mozilla Firefox 4 to 18 */\r\n        color:    #000000 !important;\r\n        opacity:  1;\r\n    }\r\n    ::-moz-placeholder { /* Mozilla Firefox 19+ */\r\n        color:    #000000 !important;\r\n        opacity:  1;\r\n    }\r\n    :-ms-input-placeholder { /* Internet Explorer 10-11 */\r\n        color:    #000000 !important;\r\n    }\r\n<\/style>\r\n<div style=\"margin-top:10%;padding:0 20px;\">\r\n    <div style=\"width:100%;text-align:center;\">\r\n        <div style='text-align:center;margin:auto;'><img style='width:45%;max-width: 45%;' src=\"https://kryptosda.kryptosmobile.com/kryptosds/imagegallery/68c6b469-584f-4e26-9b5c-f8e5d32245aa.jpg\" /><\/div>\r\n    <\/div>\r\n\r\n    <br>\r\n    <div class='list-group'>\r\n        <li class=\"list-group-item\" style=\"background:transparent;padding:5px 0;border:none !important\">\r\n            <input name=\"loginUsername\" id=\"loginUsername\" type=\"text\" class=\"form-control\" placeholder=\"Username\" autocomplete=\"off\" autocorrect=\"off\" autocapitalize=\"off\" spellcheck=\"false\" style=\"border:0px;border-bottom:1px solid #000;padding-left:5px;font-size:1.2em;background:transparent;color: #000;\"\r\n                   ng-model=\"username\">\r\n        <\/li>\r\n        <li class=\"list-group-item\" style=\"background:transparent;padding:5px 0px;border:none !important\">\r\n            <input name=\"loginUsername\" id=\"loginUsername\" type=\"password\" class=\"form-control\" placeholder=\"Password\" autocomplete=\"off\" autocorrect=\"off\" autocapitalize=\"off\" spellcheck=\"false\" style=\"border:0px;border-bottom:1px solid #000;padding-left:5px;font-size:1.2em;background:transparent;color: #000;\"\r\n                   ng-model=\"password\">\r\n        <\/li>\r\n    <\/div>\r\n\r\n    <div style=\"width:100%;text-align:center;\">\r\n        <button style=\"background-color: #0A0A0A; border: medium none #ffffff; width: 100%; -webkit-border-radius: 2px;-moz-border-radius: 2px;border-radius: 2px;margin: auto;height:48px;font-weight: bold;font-size:1.1em;\" type=\"button\" class=\"btn btn-primary btn-md btn-block\"\r\n                ng-click=\"login()\">LOG IN<\/button>\r\n    <\/div>\r\n\r\n    <br>\r\n\r\n<\/div>",
          "pageprocessor": "function pageprocessorMerchantAppPage3(pagedef, $scope, $routeParams, $compile, $http, $rootScope, $sce, $window, $location) {\r\n    var data1 = $compile($(pagedef.datatemplate))($scope);\r\n    $(\"#appContent\").append(data1);\r\n    $scope.username = \"\";\r\n    $scope.password = \"\";\r\n    var server = \"http://172.20.4.96:8080/kryptosds/v1/bigdeal/us/merchantLogin\";\r\n    var testUrl = \"https://kryptosda.kryptosmobile.com/kryptosds/v1/bigdeal/us/merchantLogin\";\r\n    var prodUrl = \"https://kryptosda.kryptosmobile.com/kryptosds/v1/bigdeal/us/merchantLogin\"\r\n    $scope.login = function () {\r\n\r\n        console.log($scope.username + \"username\\n\" + $scope.password);\r\n\r\n        if ($scope.username == \"\" || $scope.username == undefined) {\r\n            if (window.device) {\r\n                navigator.notification.alert(\r\n                    \"Please enter username.\",  // message\r\n                    null,              // callback to invoke with index of button pressed\r\n                    '',            // title\r\n                    'Ok'          // buttonLabels\r\n                );\r\n\r\n            } else {\r\n                alert(\"Please enter username.\");\r\n            }\r\n            return;\r\n\r\n        }\r\n        if ($scope.password == \"\" || $scope.password == undefined) {\r\n            if (window.device) {\r\n                navigator.notification.alert(\r\n                    \"Please enter password\",  // message\r\n                    null,              // callback to invoke with index of button pressed\r\n                    '',            // title\r\n                    'Ok'          // buttonLabels\r\n                );\r\n\r\n            } else {\r\n                alert(\"Please enter password.\");\r\n            }\r\n            return;\r\n\r\n        }\r\n        else if (!$scope.username == \"\" && !$scope.password == \"\") {\r\n            $.blockUI({\r\n                message: '<div id=\"floatingBarsG\"><div class=\"blockG\" id=\"rotateG_01\"><\/div><div class=\"blockG\" id=\"rotateG_02\"><\/div><div class=\"blockG\" id=\"rotateG_03\"><\/div><div class=\"blockG\" id=\"rotateG_04\"><\/div><div class=\"blockG\" id=\"rotateG_05\"><\/div><div class=\"blockG\" id=\"rotateG_06\"><\/div><div class=\"blockG\" id=\"rotateG_07\"><\/div><div class=\"blockG\" id=\"rotateG_08\"><\/div><\/div><div><\/div>'\r\n            });\r\n            var url = server;\r\n            var proxyMethod = \"POST\";\r\n            var proxyData = {\r\n                \"tenant\": \"BigDeal\",\r\n                \"username\": $scope.username,\r\n                \"password\": $scope.password\r\n            };\r\n            try {\r\n                $http({\r\n                    method: proxyMethod,\r\n                    url: url,\r\n                    data: proxyData\r\n                }).\r\n                success(function (data, status, headers, config) {\r\n                    $.unblockUI();\r\n                    console.log(JSON.stringify(data));\r\n                    if (data.success == true) {\r\n                        var merchantData = data.merchantDetails[0];\r\n                        $.jStorage.set('merchantInfo', merchantData)\r\n                        $location.path(\"app/MerchantApp/MerchantApp\");\r\n                        $scope.$apply();\r\n                    } else {\r\n                        if (window.device) {\r\n                            navigator.notification.alert(\r\n                                \"In-correct username and password.\",  // message\r\n                                null,              // callback to invoke with index of button pressed\r\n                                '',            // title\r\n                                'Ok'          // buttonLabels\r\n                            );\r\n\r\n                        } else {\r\n                            alert(\"In-correct username and password.\");\r\n                        }\r\n\r\n                    }\r\n\r\n                }).\r\n                error(function (data, status, headers, config) {\r\n                    $.unblockUI();\r\n\r\n\r\n                });\r\n\r\n            }\r\n            catch (e) {\r\n\r\n            }\r\n\r\n        }\r\n\r\n\r\n    }\r\n}",
          "endpoint": ""
        }
      ]
    },
    {
      "id": 25451,
      "name": "Logout2",
      "displayname": "Logout",
      "logo": "MerchantAppUS/Logout2.png",
      "logourl": "MerchantAppUS/Logout2.png",
      "description": "Logout",
      "appFeatureType": "Public",
      "roles": null,
      "showInDock": false,
      "showInHome": true,
      "networkrequired": true,
      "analytics": false,
      "pages": 
      [
        {
          "pageid": "Logout2",
          "pageTemplate": "<div><\/div>",
          "pageprocessor": "function pageprocessorLogout2(pagedef, $scope, $routeParams, $compile, $http, $rootScope, $sce, $window, $location) {\r\n    var data1 = $compile($(pagedef.datatemplate))($scope);\r\n    $(\"#appContent\").append(data1);\r\n    $.jStorage.deleteKey(\"merchantInfo\");\r\n    $location.path(\"app/MerchantApp/MerchantAppPage3\");\r\n\r\n}",
          "datatemplate": "<div><\/div>"
        }
      ]
    }
  ],
  "pages": 
  [
  ]
}